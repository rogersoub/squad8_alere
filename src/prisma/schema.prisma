datasource db {
  provider = "sqlite"
  url      = env ("BACKEND_URL")
}


generator client {
provider =  "prisma-client-js"
}

enum categoriaENUM {
  LEGUME 
  FRUTA
  DOCE
  CARNE
  TRANSGENICO
  LANCHE
  REFEICAO
}

model alimento {
id              String            @id @default(uuid())
nome            String 
descricao       String
peso            Int 
validade        String
categoria       categoriaENUM
estado          Int
imagem_url      String
criado_em       DateTime           @default(now())
Atualizado_em   DateTime           @updatedAt 

//doacao          doacao[]
}


//documento(cnpj/cpf) alimentos vai receber de alimento
model distribuidor {
id              String              @id @default(uuid())
nome            String   
contato         String
documento       String
alimentos       String
regiao_atuacao  String
criado_em       DateTime           @default(now())
Atualizado_em   DateTime           @updatedAt 
}


model estatistica {
  id                       String              @id @default(uuid())
  mais_desperdicados       String
  total_alimentos          Int
  total_doacoes            Int
  total_recebidos          Int
  ranking_categoria        Json
  criado_em                DateTime             @default(now())
  atualizado_em            DateTime             @updatedAt
}


model doacao {
    id                 String        @id @default(uuid())
    alimento_nome      String      
    quantidade         Int
    doador_nome        String
    data_doacao        DateTime
    localizacao        String
    validado           Boolean       @default(false)
    criado_em          DateTime      @default(now())
    atualizado_em      DateTime      @updatedAt

   // alimento           alimento       @relation(fields:  [alimentoId], references: [id])
}



enum tipoENUM {
  ONG
  ESCOLA
  HOSPITAL
  PJ
  PF
  OUTRO
} 

model receptor{
  id                       String              @id @default(uuid())
  nome                     String
  tipo                     tipoENUM
  endereco                 String
  contato                  String
  capacidade_recebimento   Int
  alimentos_recebidos      Int
  criado_em                DateTime             @default(now())
  Atualizado_em            DateTime             @updatedAt 
}

enum tipagemENUM {
  IMPORTANTE
  URGENTE
}

model notificacoes {
  id                     String   @id @default(uuid()) 
  categoria              tipagemENUM
  mensagem               String
  destinatario           String
  lida                   Boolean
  criado_em              DateTime @default(now())
}